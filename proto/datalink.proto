syntax = "proto3";

package datalink;

option go_package = "seminarska/proto/datalink";

import "razpravljalnica.proto";
import "google/protobuf/empty.proto";

message Record {
  oneof payload {
    razpravljalnica.User user = 1;
    razpravljalnica.Topic topic = 2;
    razpravljalnica.Message message = 3;
    razpravljalnica.Like like = 4;
  }
}

message Comparison {
  bool equal = 1;
}

service DataLink {
  rpc Write(Record) returns (google.protobuf.Empty);
  rpc Delete(Record) returns (google.protobuf.Empty);
  rpc Update(Record) returns (google.protobuf.Empty);
  rpc Compare(Record) returns (Comparison);
}
